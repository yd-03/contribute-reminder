query ($username: String!, $date: DateTime!, $dateEnd: DateTime!) {
  user(login: $username) {
    repositories(first: 100, affiliations: OWNER) {
      edges {
        node {
          name
          ref(qualifiedName: "HEAD") {
            target {
              ... on Commit {
                history(since: $date, until: $dateEnd) {
                  totalCount
                }
              }
            }
          }
        }
      }
    }
  }
}
